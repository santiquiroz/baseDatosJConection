CREATE TABLE USUARIO (
nick VARCHAR(20) PRIMARY KEY,
nombre VARCHAR(20),
contraseña VARCHAR(20) NOT NULL,
ADMINISTRADOR VARCHAR(1),
COMUN VARCHAR(1)
/*CHECK((ADMINISTRADOR =1 AND COMUN =0)OR (ADMINISTRADOR =0 AND COMUN =1))*/
);

CREATE TABLE EMPLEADO(
codigo VARCHAR(10) PRIMARY KEY,
telefono VARCHAR(20),
nombre VARCHAR(20),
activo VARCHAR(1),
inactivo VARCHAR(1),
despedido VARCHAR(1)
/*CHECK(((activo =1) AND (inactivo= 0) AND (despedido = 0))OR((activo =0) AND (inactivo= 1) AND despedido = 0))OR((activo =0) AND (inactivo= 0) AND (despedido = 1)))*/
);

CREATE TABLE PAGO(
fechayhora VARCHAR(20) PRIMARY KEY,
cantidad VARCHAR(20),
cedula VARCHAR(20),
nick VARCHAR(20),
FOREIGN KEY (cedula) REFERENCES EMPLEADO(cedula)  ON DELETE SET NULL
     ON UPDATE CASCADE,
FOREIGN KEY (nick) REFERENCES USUARIO(nick)  ON DELETE SET NULL
     ON UPDATE CASCADE
);

CREATE TABLE CLIENTE (
telefono VARCHAR(20) PRIMARY KEY,
nombre VARCHAR(20),
fecha VARCHAR NOT NULL
);

CREATE TABLE PEDIDO(
fecha VARCHAR(20) NOT NULL,
numero VARCHAR(20) NOT NULL,
direccion VARCHAR(20),
municipio VARCHAR(20),
telefono VARCHAR(20) REFERENCES CLIENTE (telefono) ON DELETE CASCADE,
PRIMARY KEY(fecha,numero)
);

//Metodo ismaelo
CREATE TABLE PEDIDO(
fecha VARCHAR(20) NOT NULL,
numero VARCHAR(20) NOT NULL,
direccion VARCHAR(20),
municipio VARCHAR(20),
telefono VARCHAR(20),
FOREIGN KEY(telefono) REFERENCES CLIENTE (telefono) ON DELETE SET NULL
     ON UPDATE CASCADE,
PRIMARY KEY(fecha,numero)
);


CREATE TABLE PRODUCTO(
codigo VARCHAR(20) PRIMARY KEY,
nombre VARCHAR(20) NOT NULL,
descripcion VARCHAR(200) NOT NULL,
precioBase VARCHAR(20) NOT NULL
);

CREATE TABLE PRODUCTOXPEDIDO(
precio VARCHAR(20),
fecha VARCHAR REFERENCES PEDIDO(fecha) ON DELETE CASCADE,
numero INVARCHAR(20) REFERENCES PEDIDO (numero) ON DELETE CASCADE,
codigo VARCHAR (20)REFERENCES PRODUCTO (codigo) ON DELETE CASCADE,
PRIMARY KEY (fecha,numero,codigo)
);